(function(t){function e(e){for(var r,c,s=e[0],a=e[1],u=e[2],l=0,b=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&b.push(i[c][0]),i[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},o=[];function c(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"5bb146ef"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=r);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=c(t);var u=new Error;o=function(e){a.onerror=a.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}i[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0245":function(t,e,n){},"0684":function(t,e,n){"use strict";n("82e4")},"2dd1":function(t,e,n){},3766:function(t,e,n){"use strict";n("5d30")},"4afb":function(t,e,n){"use strict";n("2dd1")},"5d30":function(t,e,n){},"62b7":function(t,e,n){},"6a6c":function(t,e,n){"use strict";n("9057")},"72ff":function(t,e,n){},"82e4":function(t,e,n){},"8b56":function(t,e,n){"use strict";n("0245")},9057:function(t,e,n){},9320:function(t,e,n){"use strict";n("62b7")},"9ae0":function(t,e,n){},b243:function(t,e,n){"use strict";n("72ff")},cd49:function(t,e,n){"use strict";n.r(e);var r=n("7a23");const i={class:"body"},o={class:"main"},c={class:"menu"};function s(t,e,n,s,a,u){const l=Object(r["J"])("router-view"),d=Object(r["J"])("contribute-github"),b=Object(r["J"])("license-panel"),h=Object(r["J"])("top-menu");return Object(r["B"])(),Object(r["i"])(r["b"],null,[Object(r["j"])("div",i,[Object(r["j"])("div",o,[Object(r["l"])(l,{disposition:t.disposition},null,8,["disposition"])]),Object(r["l"])(d)]),Object(r["j"])("div",c,[Object(r["l"])(h,{onExpandLeft:e[0]||(e[0]=e=>t.disposition="left"),onEven:e[1]||(e[1]=e=>t.disposition="even"),onExpandRight:e[2]||(e[2]=e=>t.disposition="right")},{default:Object(r["Q"])(()=>[Object(r["l"])(b,{class:"license"})]),_:1})])],64)}n("ab0d");const a={class:"github-fork-ribbon right-top d-none d-md-inline",href:"https://github.com/ydarma/hey","data-ribbon":"Contribuer sur GitHub",title:"Contribuer sur GitHub"};function u(t,e){return Object(r["B"])(),Object(r["i"])("a",a," Contribute on GitHub ")}n("8b56");var l=n("6b0d"),d=n.n(l);const b={},h=d()(b,[["render",u],["__scopeId","data-v-42bedfe0"]]);var p=h;const f={class:"d-flex justify-content-between align-items-center"},j={class:"toc mx-5 d-flex align-items-center"};function m(t,e,n,i,o,c){const s=Object(r["J"])("layout-commands"),a=Object(r["J"])("b-icon"),u=Object(r["J"])("b-button"),l=Object(r["J"])("table-of-content"),d=Object(r["J"])("b-card");return Object(r["B"])(),Object(r["g"])(d,null,{default:Object(r["Q"])(()=>[Object(r["j"])("div",f,[Object(r["l"])(s,{direction:"h",onExpandLeft:e[0]||(e[0]=e=>t.$emit("expand-left")),onEven:e[1]||(e[1]=e=>t.$emit("even")),onExpandRight:e[2]||(e[2]=e=>t.$emit("expand-right"))}),Object(r["j"])("div",j,[Object(r["l"])(u,{class:"m-1 d-none d-lg-inline px-3",variant:"success",to:"/"},{default:Object(r["Q"])(()=>[Object(r["l"])(a,{size:"lg",icon:"house"})]),_:1}),Object(r["l"])(l,{class:"mx-1"}),Object(r["l"])(u,{class:"m-1 d-none d-lg-inline px-3",variant:"info",to:"/about"},{default:Object(r["Q"])(()=>[Object(r["l"])(a,{size:"lg",icon:"info-circle"})]),_:1})]),Object(r["I"])(t.$slots,"default")])]),_:3})}function O(t,e,n,i,o,c){const s=Object(r["J"])("b-icon"),a=Object(r["J"])("b-button"),u=Object(r["J"])("b-dropdown-item-button"),l=Object(r["J"])("b-dropdown-divider"),d=Object(r["J"])("b-dropdown"),b=Object(r["J"])("b-button-group");return Object(r["B"])(),Object(r["g"])(b,{class:"mx-2"},{default:Object(r["Q"])(()=>[Object(r["l"])(a,{variant:"secondary",class:"d-none d-md-inline",disabled:!1===this.previous,onClick:e[0]||(e[0]=e=>t.open(t.previous))},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{icon:"arrow-left"})]),_:1},8,["disabled"]),Object(r["l"])(d,{id:"dropdown-1"},{"button-content":Object(r["Q"])(()=>[Object(r["l"])(s,{size:"lg",icon:"book"})]),default:Object(r["Q"])(()=>[(Object(r["B"])(!0),Object(r["i"])(r["b"],null,Object(r["H"])(t.chapters,([e,n])=>(Object(r["B"])(),Object(r["g"])(u,{key:n,onClick:e=>t.open(n)},{default:Object(r["Q"])(()=>[Object(r["k"])(Object(r["N"])(e),1)]),_:2},1032,["onClick"]))),128)),Object(r["l"])(l),(Object(r["B"])(!0),Object(r["i"])(r["b"],null,Object(r["H"])(t.appendices,([e,n])=>(Object(r["B"])(),Object(r["g"])(u,{key:"ap"+n,onClick:e=>t.open(n)},{default:Object(r["Q"])(()=>[Object(r["k"])(Object(r["N"])(e),1)]),_:2},1032,["onClick"]))),128))]),_:1}),Object(r["l"])(a,{variant:"secondary",class:"d-none d-md-inline",disabled:!1===this.next,onClick:e[1]||(e[1]=e=>t.open(t.next))},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{icon:"arrow-right"})]),_:1},8,["disabled"])]),_:1})}var g=n("5502"),v=n("dfd0"),y=n("1020"),w=n.n(y),x=n("7c5c");const k=[{className:"comment",regex:";.*$"},{className:"string",regex:/".*[^"]("")*"/},{className:"number",regex:/[+-]?\d+/},{className:"def",regex:/\bdef\b/},{className:"constant",regex:/\b(green|blue|yellow|red|purple|grey|black|white|orange)\b(?![-0-9])/},{className:"operator",regex:/[():]|->/},{className:"keyword",regex:/\b(range|square|concat|c|repeat|r|slice|s)\b(?![-0-9])/}];var C=function(){return{name:"hey",contains:k.map(t=>({className:t.className,begin:t.regex}))}};function S(t){w.a.registerLanguage("hey",C);const e=x["marked"].setOptions({highlight:(t,e)=>w.a.listLanguages().includes(e)?w.a.highlight(t,{language:e}).value:t})(t);return e}var E=n("e409"),_=n.n(E);function $(t){_()(".language-hey").parent().each((e,n)=>{_()(n).addClass("mx-5 my-3"),_()(n).append(_()("<button/>").text("Essayer").addClass("btn btn-outline-primary btn-sm m-1").on({click:()=>{t(_()(n).find("code").prop("innerText").trim())}}))})}function J(){const t=_()(".language-hey").filter((t,e)=>{var n,r;return/^;.*solution$/.test(null!==(r=null===(n=e.firstChild)||void 0===n?void 0:n.textContent)&&void 0!==r?r:"")});t.each((t,e)=>{const n=_()(e).parent().children();let r=!0;const i=_()("<button/>").text("Montrer la solution").addClass("btn btn-outline-warning btn-sm m-1").on({click:()=>{r?(_()(n).show(),i.text("Masquer la solution")):(_()(n).hide(),i.text("Montrer la solution")),r=!r}});_()(n).parent().append(i),_()(n).hide()})}function L(t){return Object(v["a"])(`/book/${t}.md`).text().then(t=>S(t))}const H="0.0 - Couverture.md\n0.1 - Introduction.md\n0.2 - Ada Lovelace.md\n1.1 - Données.md\n1.2 - Listes.md\n1.3 - Définitions.md\n1.4 - Fonctions.md\n3.1 - Fonctions récursives.md\n3.2 - Alan Turing.md\nA - hey! documentation.md".split("\n").map((t,e)=>[t.replace(/.md$/,""),e]);var B={toc:H,open:L,initInteractions:t=>{$(t),J()}},A=Object(r["m"])({props:[],data:function(){return{current:0}},computed:{chapters(){return B.toc.filter(([t])=>/^\d/.test(t))},appendices(){return B.toc.filter(([t])=>/^[A-Z]/.test(t))},previous(){return this.current>0&&this.current-1},next(){return this.current<B.toc.length-1&&this.current+1},title(){return this.$route.query.title}},methods:Object.assign(Object.assign({},Object(g["c"])(["setChapter"])),{open(t){this.current=t,this.$router.push({path:"/",query:{title:B.toc[t][0]}})}}),watch:{title(t){this.current=B.toc.findIndex(([e])=>e==t)}}});const P=d()(A,[["render",O]]);var M=P;function z(t,e,n,i,o,c){const s=Object(r["J"])("b-icon"),a=Object(r["J"])("b-button"),u=Object(r["J"])("b-button-group");return Object(r["B"])(),Object(r["g"])(u,null,{default:Object(r["Q"])(()=>[Object(r["l"])(a,{variant:t.color,class:"left-pill",onClick:e[0]||(e[0]=e=>t.clickLeft())},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{size:"lg",icon:t.leftIcon},null,8,["icon"])]),_:1},8,["variant"]),Object(r["l"])(a,{variant:t.color,onClick:e[1]||(e[1]=e=>t.clickMiddle()),class:"d-none d-md-inline",ref:"middle"},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{size:"lg",icon:t.middleIcon},null,8,["icon"])]),_:1},8,["variant"]),Object(r["l"])(a,{variant:t.color,class:"right-pill",onClick:e[2]||(e[2]=e=>t.clickRight())},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{size:"lg",icon:t.rightIcon},null,8,["icon"])]),_:1},8,["variant"])]),_:1})}var Q=Object(r["m"])({props:["direction"],emits:["even","expand-left","expand-right","expand-up","expand-down"],data(){return{mode:"three"}},computed:{leftIcon(){return"h"==this.direction?"box-arrow-left":"box-arrow-up"},middleIcon(){return"h"==this.direction?"vr":"hr"},rightIcon(){return"h"==this.direction?"box-arrow-right":"box-arrow-down"},color(){return"h"==this.direction?"success":"info"}},methods:{clickLeft(){this.$emit("h"==this.direction?"expand-left":"expand-up")},clickMiddle(){this.$emit("even")},clickRight(){this.$emit("h"==this.direction?"expand-right":"expand-down")}},mounted(){const t=this.$refs.middle.$el,e=()=>{this.mode="none"==getComputedStyle(t).display?"two":"three"},n=new ResizeObserver(()=>{e()});n.observe(t),e()},watch:{mode(t){"two"==t&&(this.$emit("expand-left"),this.$emit("expand-down"))}}});n("3766");const I=d()(Q,[["render",z]]);var T=I,N=Object(r["m"])({emits:["even","expand-left","expand-right"],components:{LayoutCommands:T,TableOfContent:M}});const q=d()(N,[["render",m]]);var V=q;const R=t=>(Object(r["E"])("data-v-52e896d7"),t=t(),Object(r["C"])(),t),F={class:"license d-flex align-items-center"},D=R(()=>Object(r["j"])("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},[Object(r["j"])("img",{alt:"Creative Commons License",style:{"border-width":"0"},src:"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"})],-1)),G=R(()=>Object(r["j"])("span",{class:"d-none d-xl-inline"},[Object(r["k"])(" This work is licensed under a "),Object(r["j"])("a",{rel:"license",href:"http://creativecommons.org/licenses/by-nc-sa/4.0/"},"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License")],-1)),K=[D,G];function U(t,e){return Object(r["B"])(),Object(r["i"])("div",F,K)}n("0684");const Z={},W=d()(Z,[["render",U],["__scopeId","data-v-52e896d7"]]);var X=W,Y=Object(r["m"])({data(){return{disposition:"even"}},components:{TopMenu:V,LicensePanel:X,ContributeGithub:p}});n("6a6c");const tt=d()(Y,[["render",s]]);var et=tt,nt=n("6c02");const rt={class:"mb-1"};function it(t,e,n,i,o,c){const s=Object(r["J"])("HeyEditor"),a=Object(r["J"])("exec-commands"),u=Object(r["J"])("layout-commands"),l=Object(r["J"])("HeyOut"),d=Object(r["J"])("book-viewer");return Object(r["B"])(),Object(r["i"])(r["b"],null,[Object(r["j"])("div",{class:Object(r["t"])(["d-flex flex-column sandbox",{even:"even"==t.disposition,max:"right"==t.disposition,min:"left"==t.disposition}])},[Object(r["j"])("div",{class:Object(r["t"])(["mb-2 border rounded p-1 editor",{even:"even"==t.layout,min:"bottom"==t.layout,max:"top"==t.layout}])},[Object(r["l"])(s)],2),Object(r["j"])("div",rt,[Object(r["l"])(a,{onExec:e[0]||(e[0]=e=>t.balance())}),Object(r["l"])(u,{direction:"v",onExpandDown:e[1]||(e[1]=e=>t.layout="top"),onEven:e[2]||(e[2]=e=>t.layout="even"),onExpandUp:e[3]||(e[3]=e=>t.layout="bottom")})]),Object(r["j"])("div",{class:Object(r["t"])(["p-2 result out",{even:"even"==t.layout,min:"top"==t.layout,max:"bottom"==t.layout}])},[Object(r["l"])(l)],2)],2),Object(r["j"])("div",{class:Object(r["t"])(["px-5 book",{even:"even"==t.disposition,max:"left"==t.disposition,min:"right"==t.disposition}])},[Object(r["l"])(d)],2)],64)}const ot={id:"container",ref:"container",class:"h-100"},ct=Object(r["j"])("div",{id:"editor"},null,-1),st=[ct];function at(t,e,n,i,o,c){return Object(r["B"])(),Object(r["i"])("div",ot,st,512)}var ut=n("9ab4"),lt=n("6d4f"),dt=n.n(lt);n("65d8");const bt=dt.a.require("ace/lib/oop"),ht=dt.a.require("ace/mode/text").Mode,pt=dt.a.require("ace/mode/text_highlight_rules").TextHighlightRules,ft=function(){this.$rules={start:k.map(t=>({token:t.className,regex:t.regex}))}};bt.inherits(ft,pt);const jt=function(){this.HighlightRules=ft};bt.inherits(jt,ht);class mt{constructor(t){this.marker=0,this.editor=dt.a.edit(t,{minLines:5,maxLines:20,fontSize:16,highlightActiveLine:!1,placeholder:"editeur de code hey!",printMargin:!1,autoScrollEditorIntoView:!0}),this.editor.setAutoScrollEditorIntoView(!0),this.editor.session.setMode(new jt)}setProgram(t){this.resetError();const e=this.editor.session.getValue();e!=t&&this.editor.session.setValue(null!==t&&void 0!==t?t:"")}onProgramChange(t){this.editor.on("change",()=>t(this.editor.session.getValue()))}setError(t){if(this.resetError(),t){const e=new dt.a.Range(t.line-1,t.col-1,t.line-1,t.col+2);this.marker=this.editor.session.addMarker(e,"alert alert-danger err py-2","text")}}resetError(){this.editor.session.removeMarker(this.marker),this.marker=0}fit(t){const e=new ResizeObserver(()=>{this.resize(t.clientHeight)});e.observe(t)}resize(t){const e=this.editor.renderer.lineHeight;this.editor.setOptions({minLines:Math.trunc(t/e),maxLines:Math.trunc(t/e)})}}var Ot=function(t="editor"){let e;const n=new Promise(t=>e=t);return Object(r["z"])(()=>{const n=new mt(t);e(n)}),{edit:t=>n.then(e=>{e.setProgram(t)}),onChange:t=>n.then(e=>{e.onProgramChange(t)}),setError:t=>n.then(e=>{e.setError(t)}),fit:t=>n.then(e=>{e.fit(t)})}},gt=(n("9ae0"),Object(r["m"])({name:"HeyEditor",props:[],data(){return{marker:0,height:0}},computed:Object.assign({},Object(g["d"])(["error","program"])),methods:Object.assign({},Object(g["c"])(["setProgram"])),setup(){return Ot()},updated(){this.height=this.$refs.editor.clientHeight,console.log(this.height)},mounted(){this.fit(this.$refs.container),this.edit(this.program),this.onChange(t=>this.setProgram(t))},watch:{error(t){return Object(ut["a"])(this,void 0,void 0,(function*(){this.setError(t)}))},program(t){return Object(ut["a"])(this,void 0,void 0,(function*(){this.edit(t)}))}}}));const vt=d()(gt,[["render",at]]);var yt=vt;function wt(t,e,n,i,o,c){const s=Object(r["J"])("b-alert"),a=Object(r["J"])("hey-list"),u=Object(r["J"])("hey-value");return Object(r["B"])(),Object(r["g"])(r["d"],{name:t.isError?"err-bounce":"out-bounce"},{default:Object(r["Q"])(()=>[t.isError?(Object(r["B"])(),Object(r["g"])(s,{key:0,variant:"danger",class:"error",show:""},{default:Object(r["Q"])(()=>[Object(r["k"])(" ["+Object(r["N"])(t.error.line)+":"+Object(r["N"])(t.error.col)+"] "+Object(r["N"])(t.error.message),1)]),_:1})):t.isArray?(Object(r["B"])(),Object(r["g"])(a,{key:1,output:t.output},null,8,["output"])):t.isValue?(Object(r["B"])(),Object(r["g"])(u,{key:2,output:t.output},null,8,["output"])):Object(r["h"])("",!0)]),_:1},8,["name"])}const xt={class:"d-flex flex-row flex-wrap"},kt=Object(r["j"])("div",{class:"paren m-1"},"(",-1),Ct=Object(r["j"])("div",{class:"paren m-1"},")",-1);function St(t,e,n,i,o,c){const s=Object(r["J"])("hey-value");return Object(r["B"])(),Object(r["i"])("div",xt,[kt,(Object(r["B"])(!0),Object(r["i"])(r["b"],null,Object(r["H"])(t.output,(t,e)=>(Object(r["B"])(),Object(r["i"])("div",{key:e,class:Object(r["t"])(["m-1",{"text-secondary":e%2==0,"text-dark":e%2==1}])},[Object(r["l"])(s,{output:t},null,8,["output"])],2))),128)),Ct])}const Et=["innerHTML"];function _t(t,e,n,i,o,c){return Object(r["B"])(),Object(r["i"])("div",null,[t.isValue?(Object(r["B"])(),Object(r["i"])("div",{key:0,class:Object(r["t"])({fun:t.isFunction})},Object(r["N"])(t.output),3)):Object(r["h"])("",!0),t.isShape?(Object(r["B"])(),Object(r["i"])("div",{key:1,innerHTML:t.output},null,8,Et)):Object(r["h"])("",!0)])}class $t{constructor(t,e){this.name=t,this.props=e}toString(){return $t.renderer[this.name](this.props)}}$t.renderer={square:t=>{var e,n;return null!==(n=null===(e=_()("<svg/>").width(t.size).height(t.size).append(_()("<rect/>").attr("width",String(t.size)).attr("height",String(t.size)).attr("fill",String(t.color)))[0])||void 0===e?void 0:e.outerHTML)&&void 0!==n?n:""}};var Jt=Object(r["m"])({props:["output"],computed:{isValue(){return!this.isShape&&"object"!=typeof this.output},isFunction(){return this.isValue&&"function"==typeof this.output},isShape(){return this.output instanceof $t}}});n("9320");const Lt=d()(Jt,[["render",_t]]);var Ht=Lt,Bt=Object(r["m"])({components:{HeyValue:Ht},props:{output:Array}});const At=d()(Bt,[["render",St]]);var Pt=At,Mt=Object(r["m"])({components:{HeyValue:Ht,HeyList:Pt},props:[],computed:Object.assign(Object.assign({},Object(g["d"])(["output","error"])),{isArray(){return!this.isError&&Array.isArray(this.output)},isValue(){return!this.isError&&!!this.output},isError(){return!!this.error}})});n("4afb");const zt=d()(Mt,[["render",wt]]);var Qt=zt;const It=["innerHTML"];function Tt(t,e,n,i,o,c){return Object(r["B"])(),Object(r["i"])("div",{innerHTML:t.content,class:"viewer"},null,8,It)}var Nt=Object(r["m"])({data:function(){return{content:void 0}},computed:{title(){const t=this.$route.query.title;return t||B.toc[0][0]}},methods:{...Object(g["c"])(["setProgram"]),async open(){this.content=await B.open(this.title),this.$nextTick(()=>{B.initInteractions(t=>this.setProgram(t))})}},watch:{async"$route.query.title"(){await this.open()}},async mounted(){await this.open()}});n("ef6e");const qt=d()(Nt,[["render",Tt]]);var Vt=qt;function Rt(t,e,n,i,o,c){const s=Object(r["J"])("b-icon"),a=Object(r["J"])("b-button");return Object(r["B"])(),Object(r["i"])(r["b"],null,[Object(r["l"])(a,{variant:"danger",class:"mx-3 my-1",pill:"",onClick:e[0]||(e[0]=e=>t.execute())},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{size:"lg",icon:"play"})]),_:1}),Object(r["l"])(a,{variant:"secondary",class:"mx-3",pill:"",onClick:e[1]||(e[1]=e=>t.cancel())},{default:Object(r["Q"])(()=>[Object(r["l"])(s,{size:"lg",icon:"x"})]),_:1})],64)}var Ft=Object(r["m"])({emits:["exec","cancel"],methods:Object.assign(Object.assign({},Object(g["b"])(["exec","clear"])),{execute(){this.exec(),this.$emit("exec")},cancel(){this.clear(),this.$emit("cancel")}})});const Dt=d()(Ft,[["render",Rt]]);var Gt=Dt,Kt=Object(r["m"])({name:"Home",props:["disposition"],data(){return{layout:"even",editorHeight:0}},methods:{balance(){"top"==this.layout&&(this.layout="even")}},components:{LayoutCommands:T,HeyEditor:yt,HeyOut:Qt,BookViewer:Vt,ExecCommands:Gt}});n("b243");const Ut=d()(Kt,[["render",it]]);var Zt=Ut;const Wt=[{path:"/",name:"Home",component:Zt},{path:"/about",name:"About",component:()=>n.e("about").then(n.bind(null,"f820"))}],Xt=Object(nt["a"])({history:Object(nt["b"])("/"),routes:Wt});var Yt=Xt,te=n("e32f"),ee=n.n(te);function ne(t,e,n,r){const{line:i,col:o,tok:c}=s(e);return{line:i,col:o,message:`expected ${n}, got ${null!==r&&void 0!==r?r:c}`};function s(e){const n=t.substring(0,e+1),r=n.split(/\r\n|\r|\n/g),i=r.length,o=r[r.length-1].length,c=n.slice(-1);return{line:i,col:o,tok:c}}}function re(t,e,n){return ne(t,e,"color",n)}function ie(t,e,n){return ne(t,e,"number",n)}function oe(t,e,n){return ne(t,e,"function or data",n)}function ce(t,e,n){return ne(t,e,"data",n)}function se(t,e,n){return ne(t,e,"identifier",n)}function ae(t,e,n,r){return ne(t,e,r+" argument(s)",n)}function ue(t,e){const n=e.getRightmostFailurePosition(),r=Object.keys(e.matcher.memoTable[n].memo),i=r[r.length-1];return ne(t,n,i)}function le(t,e,n){return ne(t,e,"new identifier",n)}function de(t,e){return ne(t,e,"continuation","interruption")}const be=[[1,1],[-1,2]];function he(t){if(t<be.length)return be[t];const e=fe(t),n=e.map(t=>he(t)),r=e.map(e=>je(e,t+1)),i=n.map((t,e)=>[t[0]*r[e],t[1]]),o=i.reduce((t,e)=>pe([t[0]*e[1]+e[0]*t[1],t[1]*e[1]])),c=pe([-o[0],o[1]*(t+1)]);return be.push(c,[0,1]),c}function pe([t,e]){let n,r=t,i=e;while(i)n=r%i,r=i,i=n;return t/=r,e/=r,e>0?[t,e]:[-t,-e]}function fe(t){return Array.from({length:t},(t,e)=>e)}function je(t,e){t=t>e/2?e-t:t;let n=1,r=1;for(let i=0;i<t;++i)n*=e-i,r*=i+1;return n/r}class me{constructor(){this.stack=[{}]}pick(){const t=this.stack[this.stack.length-1];if("undefined"==typeof t)throw"interval error: empty stack";return t}has(t,e="global"){return"string"==typeof t&&("local"==e?t in this.pick():this.stack.some(e=>t in e))}get(t){return this.stack.reduce((e,n)=>"string"==typeof t&&t in n?n[t]:e,t)}push(...t){this.stack.push(...t)}pop(t=1){const e=this.stack.pop();if("undefined"==typeof e)throw"interval error: empty stack";return 1==t?e:this.pop(t-1)}}class Oe{constructor(){this.env=new me,this._cancel=!1}cancel(){this._cancel=!0}reset(){this._cancel=!1}assertContinue(t){return Object(ut["a"])(this,void 0,void 0,(function*(){if(yield new Promise(t=>setTimeout(t)),this._cancel)throw this._cancel=!1,de(...t.get(0))}))}prog(t,e,n){return Object(ut["a"])(this,void 0,void 0,(function*(){return this.env.push(...e),yield this.assertContinue(t),yield n(t).finally(()=>{this.env.pop(e.length)})}))}def(t,e,n){if(this.env.has(e,"local"))throw le(...t.get(0),e);this.env.pick()[e]=n}range(t,e,n,r){return Object(ut["a"])(this,void 0,void 0,(function*(){if(!ve(e))throw ie(...t.get(0),e);if(!ve(n))throw ie(...t.get(1),n);if("undefined"!=typeof r&&!ve(r))throw ie(...t.get(2),r);const i=[];for(let o=0;o<e;o++)o%100==0&&(yield this.assertContinue(t)),i.push(o*(null!==r&&void 0!==r?r:1)+n);return i}))}adaLovelace(t,e){return Object(ut["a"])(this,void 0,void 0,(function*(){if(!ve(e))throw ie(...t.get(0),e);const n=[];for(let r=1;r<=e;r++){r%100==0&&(yield this.assertContinue(t));const e=he(r+1);n.push(0==e[0]?"0":`${e[0]}/${e[1]}`)}return n}))}square(t,e,n){if(!ve(e))throw ie(...t.get(0),e);if(!ge(n))throw re(...t.get(1),n);return new $t("square",{size:e,color:n})}concat(t,e){return Object(ut["a"])(this,void 0,void 0,(function*(){const n=[];for(let r=0;r<e.length;r++){r%100==0&&(yield this.assertContinue(t));const i=e[r];n.push(...Array.isArray(i)?i:[i])}return n}))}repeat(t,e,n){return Object(ut["a"])(this,void 0,void 0,(function*(){if(!ve(n))throw ie(...t.get(1),n);const r=Array.isArray(e)?e:[e],i=new Array(n);for(let e=0;e<n;e++)e%100==0&&(yield this.assertContinue(t)),i[e]=r[e%r.length];return i}))}slice(t,e,n,r){if(!we(e))throw ce(...t.get(0),e);if(!ve(n))throw ie(...t.get(1),n);if(void 0!=r&&!ve(r))throw ie(...t.get(2),r);return e.slice(n>0?n-1:n,r&&r<0?r+1:r)}funct(t,e,n){const r=this.env.pick();return(t,...i)=>{if(i.length!=e.length)throw ae(...t.get(0),i.length,e.length);const o=e.reduce((t,e,n)=>Object.assign(Object.assign({},t),{[e]:i[n]}),{});return this.prog(t,[r,o],n)}}result(t,e,...n){return Object(ut["a"])(this,void 0,void 0,(function*(){const r=yield e;if(we(r)){const t=n[0];return t>0&&t<=r.length?r[t-1]:n[1]}if(ye(r))return r(t,...n);throw oe(...t.get(0))}))}known(t,e){if(this.env.has(e))return this.env.get(e);throw se(...t.get(0),String(e))}unknown(t,e){if(!this.env.has(e))return e;throw se(...t.get(0),String(e))}}function ge(t){return["green","blue","yellow","red","purple","grey","black","white","orange"].includes(t)}function ve(t){return"number"==typeof t}function ye(t){return"function"==typeof t}function we(t){return Array.isArray(t)}function xe(t){const e=s("square",["size","color"]),n=s("range",["start","end","step"]),r=s("adaLovelace",["n"]),i=s("concat",["values"]),o=s("repeat",["data","count"]),c=s("slice",["data","start","end"]);function s(e,n){const r=t.funct(new Se,n,r=>Object(ut["a"])(this,void 0,void 0,(function*(){const i=t[e],o=[r,...n.map(e=>t.known(r,e))];return i.call(t,...o)})));return r.toString=()=>`(${n.join(" ")}) -> ${e}(${n.join(" ")})`,r}function a(t,e){return t.toString=e,t}return{Prog:(e,n)=>t.prog(new Se(...e.children,n),[{}],()=>Object(ut["a"])(this,void 0,void 0,(function*(){for(const t of e.children)yield t.eval();return yield n.eval()}))),Def:(e,n,r,i)=>Object(ut["a"])(this,void 0,void 0,(function*(){return t.def(new Se(n,i),yield n.eval(),yield i.eval())})),Val:t=>t.eval(),Known:e=>Object(ut["a"])(this,void 0,void 0,(function*(){return t.known(new Se(e),yield e.eval())})),Result:(e,n,r,i)=>Object(ut["a"])(this,void 0,void 0,(function*(){return yield r.children.reduce((n,i)=>Object(ut["a"])(this,void 0,void 0,(function*(){const o=[];for(const t of i.children)o.push(yield t.eval());return yield t.result(new Se(e,...r.children),n,...o)})),yield e.eval())})),Range:t=>a((t,e,r,i,...o)=>n(t,e,r,i,...o),n.toString),AdaLovelace:t=>a((t,e,...n)=>r(t,e,...n),r.toString),Square:t=>a((t,n,r,...i)=>e(t,n,r,...i),e.toString),Concat:t=>a((t,...e)=>i(t,e),i.toString),Repeat:t=>a((t,e,n,...r)=>o(t,e,n,...r),o.toString),Slice:t=>a((t,e,n,r,...i)=>c(t,e,n,r,...i),c.toString),Function:(e,n,r,i,o,c,s)=>Object(ut["a"])(this,void 0,void 0,(function*(){const e=[];for(const t of r.children)e.push(yield t.eval());const n=t.funct(new Se(...r.children,c),e,()=>c.eval());return n.toString=()=>`(${r.children.map(t=>t.sourceString).join(" ")}) -> ${c.sourceString}`,n})),comment:(t,e,n)=>e.sourceString,number:(t,e)=>("-"==t.sourceString?-1:1)*parseInt(e.sourceString),color:t=>t.sourceString,string:(t,e,n)=>e.sourceString.replace(/""/g,'"'),identifier:t=>t.sourceString,builtin:t=>t.sourceString}}function ke(t){const e=new Oe,n=()=>e.cancel(),r=t();return"string"==typeof r?{hey:Ce(r,e),cancel:n}:{hey:t=>r.then(t=>Ce(t,e)).then(e=>e(t)),cancel:n}}function Ce(t,e){const n=ee.a.grammar(t),r=n.createSemantics().addOperation("eval",xe(e));return t=>{e.reset();const i=n.match(t);if(i.failed())throw ue(t,i);return r(i).eval()}}class Se{constructor(...t){var e;this.source=null===(e=t[0])||void 0===e?void 0:e.source.sourceString,this.pos=t.map(t=>t.source.startIdx)}get(t){return[this.source,this.pos[t]]}}const{hey:Ee,cancel:_e}=ke(()=>Object(v["a"])("/hey.ohm").text());var $e=Object(g["a"])({state:{program:void 0,output:void 0,error:void 0},mutations:{setProgram(t,e){t.program=e,t.error=void 0,t.output=void 0},setOutput(t,e){t.output=e},setError(t,e){t.error=e}},actions:{exec({state:t,commit:e}){var n;return Object(ut["a"])(this,void 0,void 0,(function*(){try{e("setError",void 0);const r=yield Ee(null!==(n=t.program)&&void 0!==n?n:"");e("setOutput",r)}catch(ne){e("setError",ne)}}))},clear({commit:t}){return Object(ut["a"])(this,void 0,void 0,(function*(){console.log("cancel"),_e(),t("setOutput",void 0),t("setError",void 0)}))}},modules:{}}),Je=n("b80d");n("f9e3"),n("1a26");Object(r["f"])(et).use($e).use(Yt).use(Je["a"]).mount("#app")},e0d5:function(t,e,n){},ef6e:function(t,e,n){"use strict";n("e0d5")}});
//# sourceMappingURL=app.ee68a87c.js.map